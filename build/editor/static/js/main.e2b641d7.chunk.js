(this["webpackJsonpwebsite-builder"]=this["webpackJsonpwebsite-builder"]||[]).push([[0],{168:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(48),a=n.n(i),c=n(67),l=(n(168),n(16)),s=n(88),u=n.n(s),d=n(115),b=n(9),f=n(274),p=n(278),m=n(281),h=n(263),v=n(144),g=n(272),j=n(129),x=n.n(j),O=n(271),y=n(93),k=n(87),w=n(252),S=n(267),E=n(6),A=["parentMenuOpen","component","label","rightIcon","children","className","tabIndex","MenuProps","ContainerProps"],C=["ref"],N=Object(S.a)((function(e){return{root:function(e){return{backgroundColor:e.open?"white":"rgba(0,0,0,0)"}}}})),M=o.a.forwardRef((function(e,t){var n=e.parentMenuOpen,i=(e.component,e.label),a=e.rightIcon,c=void 0===a?o.a.createElement(w.a,null):a,l=e.children,s=e.className,u=e.tabIndex,d=(e.MenuProps,e.ContainerProps),f=void 0===d?{}:d,p=Object(k.a)(e,A),m=f.ref,h=Object(k.a)(f,C),j=Object(r.useRef)(null);Object(r.useImperativeHandle)(t,(function(){return j.current}));var x=Object(r.useRef)(null);Object(r.useImperativeHandle)(m,(function(){return x.current}));var O,S=Object(r.useRef)(null),M=Object(r.useState)(!1),L=Object(b.a)(M,2),R=L[0],T=L[1],z=function(){var e,t,n,r,o,i=null===(t=null===(e=x.current)||void 0===e?void 0:e.ownerDocument)||void 0===t?void 0:t.activeElement,a=Object(y.a)(null!==(r=null===(n=S.current)||void 0===n?void 0:n.children)&&void 0!==r?r:[]);try{for(a.s();!(o=a.n()).done;){if(o.value===i)return!0}}catch(c){a.e(c)}finally{a.f()}return!1},D=R&&n,I=N({open:D});return e.disabled||(O=void 0!==u?u:-1),o.a.createElement("div",Object.assign({},h,{ref:x,onFocus:function(e){e.target===x.current&&T(!0),(null===h||void 0===h?void 0:h.onFocus)&&h.onFocus(e)},tabIndex:O,onMouseEnter:function(e){T(!0),(null===h||void 0===h?void 0:h.onMouseEnter)&&h.onMouseEnter(e)},onMouseLeave:function(e){T(!1),(null===h||void 0===h?void 0:h.onMouseLeave)&&h.onMouseLeave(e)},onKeyDown:function(e){var t,n,r,o;if("Escape"!==e.key){z()&&e.stopPropagation();var i=null===(n=null===(t=x.current)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.activeElement;if("ArrowLeft"===e.key&&z()&&(null===(r=x.current)||void 0===r||r.focus()),"ArrowRight"===e.key&&e.target===x.current&&e.target===i){var a=null===(o=S.current)||void 0===o?void 0:o.children[0];null===a||void 0===a||a.focus()}}}}),o.a.createElement(g.a,Object.assign({},p,{className:Object(E.a)(I.root,s),ref:j}),i,c),o.a.createElement(v.a,{style:{pointerEvents:"none"},anchorEl:j.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},open:D,autoFocus:!1,disableAutoFocus:!0,disableEnforceFocus:!0,onClose:function(){T(!1)}},o.a.createElement("div",{ref:S,style:{pointerEvents:"auto"}},l)))})),L=n(266),R=n(275),T=n(51),z=n(2),D={name:"",value:""},I=function(e){var t=e.selected,n=e.getMirror,r=e.forceRender,o=t.attributes;return Object(z.jsx)(T.c,{initialValues:D,onSubmit:function(e,o){var i=o.resetForm;t.setAttribute(e.name,e.value),n(t).setAttribute(e.name,e.value),r(),i()},children:function(e){e.setFieldValue;return Object(z.jsxs)(T.b,{children:[[].map.call(o,(function(e){var t=e.name,n=e.value;return Object(z.jsxs)(f.a,{container:!0,children:[Object(z.jsx)(f.a,{item:!0,xs:6,children:t}),Object(z.jsx)(f.a,{item:!0,xs:6,children:n})]},t)})),Object(z.jsxs)(f.a,{container:!0,children:[Object(z.jsx)(f.a,{item:!0,xs:6,children:Object(z.jsx)(T.a,{name:"name",as:L.a,variant:"standard",label:"Attributea",fullWidth:!0})}),Object(z.jsx)(f.a,{item:!0,xs:6,children:Object(z.jsx)(T.a,{name:"value",as:L.a,variant:"standard",label:"Value",fullWidth:!0})})]}),Object(z.jsx)(R.a,{type:"submit",variant:"contained",children:"Add"})]})}})},F=n(20),P=n(282),W=n(265),Y=(n(176),function(){var e=Object(r.useReducer)((function(e){return e+1}),0);return Object(b.a)(e,2)[1]});function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",n=arguments.length>2?arguments[2]:void 0;n||(n=new Map);var r=[],o=e.nodeName,i={title:o,key:t,domNode:e,children:r};n.set(e,i);for(var a=0;a<e.children.length;a++){var c=H(e.children[a],"".concat(t,"-").concat(a),n),l=c.dataNodeTree;r.push(l)}return{dataNodeTree:i,dataNodeTreeAsMap:n}}var q=function(e){var t=e.rootNode,n=e.selected,o=e.onChangeSelected,i=e.onChangeHovered,a=e.onRightClick,c=Y(),l=Object(r.useState)([]),s=Object(b.a)(l,2),u=s[0],d=s[1],f=Object(r.useRef)(),p=Object(r.useRef)();Object(r.useEffect)((function(){if(p.current){var e=Array.from(p.current.values());d(e.map((function(e){return e.key})))}}),[]),Object(r.useEffect)((function(){if(n&&p.current&&f.current){var e=p.current.get(n);if(e){for(var t=e.key,r=[],o=t.length;o>=0;o--)"-"===t[o]&&r.push(t.slice(0,o));var i=new Set([].concat(Object(F.a)(u),r));f.current.scrollTo({key:t}),d(Array.from(i))}}}),[n]);var m=H(t),h=m.dataNodeTree,v=m.dataNodeTreeAsMap;p.current=v;var g=(n&&p.current.get(n)||{}).key,j=g?[g]:[];return Object(z.jsx)(W.a,{treeData:[h],selectedKeys:j,expandedKeys:u,ref:f,draggable:!0,height:500,blockNode:!0,showLine:{showLeafIcon:!1},switcherIcon:Object(z.jsx)(P.a,{}),onDrop:function(e){var t,n=e.dropToGap,r=e.node,o=e.dragNode,i=r.domNode,a=o.domNode;(a.remove(),n)?null===i||void 0===i||null===(t=i.parentNode)||void 0===t||t.insertBefore(a,i.nextSibling):i.insertBefore(a,i.firstChild);c()},onExpand:function(e){d(e)},onSelect:function(e,t){var n=t.node.domNode;o(n)},onMouseEnter:function(e){var t=e.node.domNode;i(t)},onRightClick:function(e){var t=e.event,n=e.node,r=t,o=r.clientX,i=r.clientY,c=n.domNode;a({x:o,y:i,parentNode:c})}})},X=n(262),V=n(273),J=n(270),_=n(277),$=function(e){var t=e.prop,n=e.value,o=e.onSave,i=e.toggleJSMode,a=Object(r.useRef)(n);return Object(z.jsxs)(f.a,{container:!0,children:[Object(z.jsx)(f.a,{item:!0,xs:4,children:Object(z.jsx)(L.a,{value:"$"===t[0]?t.slice(1):t,variant:"standard",disabled:!0,fullWidth:!0,size:"small"})}),Object(z.jsx)(f.a,{item:!0,xs:6,children:Object(z.jsx)(L.a,{defaultValue:n,variant:"standard",size:"small",fullWidth:!0,onChange:function(e){return a.current=e.target.value}})}),Object(z.jsx)(f.a,{item:!0,xs:1,children:Object(z.jsx)(V.a,{title:"JavaScript",placement:"left",disableInteractive:!0,arrow:!0,children:Object(z.jsx)(J.a,{checked:"$"===t[0],size:"small",sx:{padding:"4px"},onClick:function(){return i(t)}})})}),Object(z.jsx)(f.a,{item:!0,xs:1,children:Object(z.jsx)(V.a,{title:"Save",placement:"right",disableInteractive:!0,arrow:!0,children:Object(z.jsx)(_.a,{"aria-label":"delete",size:"small",onClick:function(){return o(t,a.current)},sx:{paddingLeft:0},children:Object(z.jsx)(X.a,{sx:{fontSize:16}})})})})]})},B=function(e){var t=e.onSave,n=e.props,r=e.toggleJSMode,o=Object.entries(n).sort((function(e,t){var n=Object(b.a)(e,1)[0],r=Object(b.a)(t,1)[0],o="$"===n[0]?n.slice(1):n,i="$"===r[0]?r.slice(1):r;return o.localeCompare(i)}));return Object(z.jsx)(p.a,{sx:{overflowY:"auto",overflowX:"hidden"},children:o.map((function(e){var n=Object(b.a)(e,2),o=n[0],i=n[1],a="$"===o[0]?o.slice(1):o;return Object(z.jsx)($,{prop:o,value:i,onSave:t,toggleJSMode:r},a+i)}))})},K=n(75),G=n(279),Q=(n(188),n(142)),U=n(143),Z=n.n(U),ee=["virtualDOM","getWindow","page"],te=function(e){var t=e.virtualDOM,n=e.getWindow,r=e.page,o=Object(k.a)(e,ee);return Object(z.jsx)(G.a,Object(K.a)(Object(K.a)({color:"primary",onClick:function(){var e=t.cloneNode(!0);e.querySelectorAll("[uuid]").forEach((function(e){e.removeAttribute("uuid")})),e.querySelectorAll('script[name="state"]').forEach((function(e){e.remove()}));var o=e.createElement("script"),i=Z()(n().STORE);o.setAttribute("name","state"),o.innerText="window.STORE = ".concat(i),e.head.appendChild(o);var a="<!DOCTYPE html>".concat(e.documentElement.outerHTML),c=Object(Q.html_beautify)(a,{wrap_line_length:120,max_preserve_newlines:0});fetch("/editor/save",{method:"POST",body:JSON.stringify({html:c,page:r}),headers:{"Content-Type":"application/json"}})}},o),{},{children:Object(z.jsx)(X.a,{})}))},ne=n(280),re=function(e){return Object(z.jsx)(p.a,{children:Object(z.jsx)(ne.a,{sx:{marginX:2}})})},oe=n(268),ie=["top","left","zoom","clear","color","float","inset","order","right","scale","width","border","bottom","cursor","filter","height","quotes","resize","rotate","widows","contain","content","display","hyphens","opacity","orphans","row-gap","z-index","position","tab-size","clip-path","direction","flex-grow","flex-wrap","font-size","isolation","mask-clip","mask-mode","mask-size","mask-type","max-lines","max-width","min-width","transform","translate","word-wrap","align-self","appearance","block-size","box-shadow","box-sizing","column-gap","flex-basis","font-style","line-break","margin-top","mask-image","math-style","max-height","min-height","object-fit","overflow-x","overflow-y","ruby-align","ruby-merge","text-align","visibility","word-break","background","align-items","break-after","caret-color","column-fill","column-span","counter-set","empty-cells","flex-shrink","font-family","font-smooth","font-weight","inline-size","inset-block","line-height","margin-left","mask-origin","mask-repeat","motion-path","offset-path","padding-top","paint-order","perspective","text-indent","text-shadow","user-select","white-space","will-change","accent-color","align-tracks","aspect-ratio","break-before","break-inside","caption-side","color-adjust","color-scheme","column-count","column-width","font-kerning","font-stretch","font-variant","grid-row-end","inset-inline","justify-self","margin-block","margin-right","padding-left","shape-margin","table-layout","text-justify","touch-action","unicode-bidi","word-spacing","writing-mode","align-content","counter-reset","justify-items","margin-bottom","margin-inline","mask-position","offset-anchor","offset-rotate","outline-color","outline-style","outline-width","overflow-wrap","padding-block","padding-right","place-content","ruby-position","scroll-margin","shape-outside","text-overflow","transform-box","animation-name","block-overflow","border-spacing","flex-direction","font-synthesis","grid-auto-flow","grid-auto-rows","grid-row-start","initial-letter","justify-tracks","letter-spacing","mask-composite","max-block-size","min-block-size","mix-blend-mode","outline-offset","overflow-block","padding-bottom","padding-inline","pointer-events","scroll-padding","text-rendering","text-transform","vertical-align","animation-delay","backdrop-filter","background-clip","background-size","border-collapse","grid-column-end","image-rendering","inset-block-end","justify-content","list-style-type","max-inline-size","min-inline-size","motion-distance","motion-rotation","object-position","offset-distance","offset-rotation","overflow-anchor","overflow-inline","scroll-behavior","scrollbar-color","scrollbar-width","text-align-last","transform-style","background-color","background-image","border-top-color","border-top-style","border-top-width","font-size-adjust","image-resolution","inset-inline-end","line-height-step","list-style-image","margin-block-end","mask-border-mode","page-break-after","scroll-snap-stop","scroll-snap-type","scrollbar-gutter","text-orientation","text-size-adjust","transform-origin","transition-delay","background-origin","background-repeat","border-left-color","border-left-style","border-left-width","column-rule-color","column-rule-style","column-rule-width","counter-increment","font-variant-caps","grid-auto-columns","grid-column-start","image-orientation","inset-block-start","margin-inline-end","mask-border-slice","mask-border-width","overflow-clip-box","padding-block-end","page-break-before","page-break-inside","scroll-margin-top","scroll-snap-align","animation-duration","border-block-color","border-block-style","border-block-width","border-image-slice","border-image-width","border-right-color","border-right-style","border-right-width","content-visibility","grid-template-rows","inset-inline-start","margin-block-start","mask-border-outset","mask-border-repeat","mask-border-source","padding-inline-end","perspective-origin","scroll-margin-left","scroll-padding-top","scroll-snap-margin","animation-direction","animation-fill-mode","backface-visibility","border-bottom-color","border-bottom-style","border-bottom-width","border-image-outset","border-image-repeat","border-image-source","border-inline-color","border-inline-style","border-inline-width","font-optical-sizing","forced-color-adjust","grid-template-areas","hanging-punctuation","list-style-position","margin-inline-start","padding-block-start","scroll-margin-block","scroll-margin-right","scroll-padding-left","text-emphasis-color","text-emphasis-style","transition-duration","transition-property","animation-play-state","box-decoration-break","font-variant-numeric","overflow-clip-margin","padding-inline-start","scroll-margin-bottom","scroll-margin-inline","scroll-padding-block","scroll-padding-right","text-combine-upright","text-decoration-line","text-decoration-skip","background-attachment","background-blend-mode","background-position-x","background-position-y","border-end-end-radius","font-feature-settings","font-variant-position","grid-template-columns","overscroll-behavior-x","overscroll-behavior-y","scroll-padding-bottom","scroll-padding-inline","shape-image-threshold","text-decoration-color","text-decoration-style","text-decoration-width","text-underline-offset","border-block-end-color","border-block-end-style","border-block-end-width","border-top-left-radius","font-language-override","font-variant-ligatures","scroll-snap-margin-top","text-emphasis-position","border-end-start-radius","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-start-end-radius","border-top-right-radius","font-variant-east-asian","font-variation-settings","scroll-margin-block-end","scroll-snap-margin-left","text-underline-position","border-block-start-color","border-block-start-style","border-block-start-width","scroll-margin-inline-end","scroll-padding-block-end","scroll-snap-margin-right","text-decoration-skip-ink","animation-iteration-count","animation-timing-function","border-bottom-left-radius","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-start-start-radius","overscroll-behavior-block","scroll-margin-block-start","scroll-padding-inline-end","scroll-snap-margin-bottom","text-decoration-thickness","border-bottom-right-radius","overscroll-behavior-inline","scroll-margin-inline-start","scroll-padding-block-start","transition-timing-function","scroll-padding-inline-start"],ae=function(e){var t=e.styles,n=e.onAddStyle;e.onMakeDraggable;return Object(z.jsx)(T.c,{initialValues:{name:"",value:""},onSubmit:function(e,t){var r=t.resetForm;n(e)&&r()},children:function(e){var n=e.setFieldValue;return Object(z.jsxs)(T.b,{children:[t.map((function(e){var t=e.name,n=e.value;return Object(z.jsxs)(f.a,{container:!0,children:[Object(z.jsx)(f.a,{item:!0,xs:6,children:t}),Object(z.jsx)(f.a,{item:!0,xs:6,children:n})]},t)})),Object(z.jsxs)(f.a,{container:!0,children:[Object(z.jsx)(f.a,{item:!0,xs:6,children:Object(z.jsx)(T.a,{name:"name",as:oe.a,options:ie,disableClearable:!0,freeSolo:!0,renderInput:function(e){return Object(z.jsx)(L.a,Object(K.a)(Object(K.a)({},e),{},{label:"Style",variant:"standard"}))},onChange:function(e,t){return n("name",t)}})}),Object(z.jsx)(f.a,{item:!0,xs:6,children:Object(z.jsx)(T.a,{name:"value",as:L.a,variant:"standard",label:"Value",fullWidth:!0})})]}),Object(z.jsx)(R.a,{type:"submit",variant:"contained",children:"Add"})]})}})},ce=(n(197),M),le=document.createElement("div"),se=function(){var e,t,n,o=Y(),i=Object(l.g)().page,a=Object(r.useRef)(null),c=Object(r.useRef)(null),s=Object(r.useRef)(null),j=Object(r.useRef)(0),y=Object(r.useRef)(null),k=Object(r.useState)({current:null}),w=Object(b.a)(k,2),S=w[0],E=w[1],A=Object(r.useState)([]),C=Object(b.a)(A,2),N=C[0],M=C[1],L=Object(r.useRef)(),R=function(){var e;return null===L||void 0===L||null===(e=L.current)||void 0===e?void 0:e.contentDocument},T=function(){var e;return null===L||void 0===L||null===(e=L.current)||void 0===e?void 0:e.contentWindow},D=function(e){return y.current&&y.current.querySelector('[uuid="'.concat(e.getAttribute("uuid"),'"]'))||le},F=function(e){var t,n;e.preventDefault(),E({current:{mouseX:e.clientX+(null===(t=L.current)||void 0===t?void 0:t.offsetLeft),mouseY:e.clientY+(null===(n=L.current)||void 0===n?void 0:n.offsetTop)}})};Object(r.useEffect)((function(){if(L&&(T().onmousedown=function(e){var t=e.path.find((function(e){return e.hasAttribute&&e.hasAttribute("editable")&&e.style&&("absolute"===e.style.position||"relative"===e.style.position)}));t&&(s.current=t);var n,r=e.path.find((function(e){return e.hasAttribute&&e.hasAttribute("editable")}));r?(a.current&&a.current.classList.remove("selected"),a.current=r,null===(n=a.current)||void 0===n||n.classList.add("selected")):a.current&&(a.current.classList.remove("selected"),a.current=null)},T().onmouseup=function(){s.current&&s.current.classList.remove("hovered"),s.current=null,o()},T().onmouseout=function(e){var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||c.current&&(c.current.classList.remove("hovered"),c.current=null)},T().onmousemove=function(e){if(s.current){e.preventDefault();var t=e.movementX,n=e.movementY,r=+s.current.style.left.replace("px",""),o=+s.current.style.top.replace("px","");s.current.style.left=r+t/2+"px",s.current.style.top=o+n/2+"px",D(s.current).style.left=r+t/2+"px",D(s.current).style.top=o+n/2+"px"}var i,a=e.path.find((function(e){return e.hasAttribute&&e.hasAttribute("editable")}));a?(c.current&&c.current.classList.remove("hovered"),c.current=a,null===(i=c.current)||void 0===i||i.classList.add("hovered")):c.current&&(c.current.classList.remove("hovered"),c.current=null)},i)){var e=fetch("/".concat(i)).then((function(e){return e.text()})).then((function(e){var t=R().createElement("html"),n=R().implementation.createHTMLDocument();return t.innerHTML=e,n.replaceChild(t,n.documentElement),n}));T().addEventListener("DOMContentLoaded",function(){var t=Object(d.a)(u.a.mark((function t(n){var r,i,a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target,T().STORE={},r.body.oncontextmenu=F,t.next=5,e;case 5:y.current=t.sent,y.current.querySelectorAll("*").forEach((function(e){var t=x()(e),n=r.evaluate(t,r,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,o=String(j.current++);e.setAttribute("uuid",o),null===n||void 0===n||n.setAttribute("uuid",o)})),y.current.body.querySelectorAll("*").forEach((function(e){var t,n=r.querySelector('[uuid="'.concat(e.getAttribute("uuid"),'"]'));n&&(n.setAttribute("editable","true"),"#text"===(null===(t=n.firstChild)||void 0===t?void 0:t.nodeName)&&n.setAttribute("contenteditable","true"),"static"===T().getComputedStyle(n).position&&(n.style.position="relative",D(n)&&(D(n).style.position="relative")))})),r.head.querySelector('script[src="/plugins/vendors.js"]')||((a=r.createElement("script")).setAttribute("src","/plugins/vendors.js"),a.setAttribute("defer","true"),r.head.appendChild(a),null===(i=D(r.head))||void 0===i||i.appendChild(a.cloneNode(!0))),(c=r.createElement("style")).type="text/css",c.innerHTML="\n        .hovered {\n          outline: #82ffff solid 2px !important;\n        }\n        .selected {\n          outline: #82c7ff solid 2px !important;\n        }\n      ",r.head.appendChild(c),o();case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),fetch("/editor/plugins.json").then((function(e){return e.json()})).then((function(e){return M(e)}))}}),[]);var P=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,o,i,a,c,l,s,d,b,f,p,m,h,v,g,x,y,k,w;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L){e.next=2;break}return e.abrupt("return");case 2:if(n=t.script,r=t.template,o=null,i=Object(O.a)(),!r){e.next=18;break}return e.next=8,fetch(r).then((function(e){return e.text()}));case 8:a=e.sent,c=S.current,l=c.mouseX,s=c.mouseY,d=c.parentNode,(b=document.createElement("div")).innerHTML=a,f=b.firstElementChild,b.querySelectorAll("*").forEach((function(e){e.setAttribute("uuid",j.current+++"")})),d?(f.style.position="relative",null===(p=D(d))||void 0===p||p.appendChild(f.cloneNode(!0))):(g=l-(null===(m=L.current)||void 0===m?void 0:m.offsetLeft),x=s-(null===(h=L.current)||void 0===h?void 0:h.offsetTop)+T().scrollY,f.style.position="absolute",f.style.left=g+"px",f.style.top=x+"px",null===(v=D(R().body))||void 0===v||v.appendChild(f.cloneNode(!0))),b.querySelectorAll("*").forEach((function(e){var t;e.setAttribute("editable","true"),"#text"===(null===(t=e.firstChild)||void 0===t?void 0:t.nodeName)&&e.setAttribute("contenteditable","true")})),d?d.appendChild(f):R().body.appendChild(f),o=f;case 18:n&&((k=document.createElement("script")).setAttribute("src",n),k.setAttribute("defer","true"),k.setAttribute("id",i),k.setAttribute("uuid",j.current+++""),o&&(o.setAttribute("script-id",i),null===(w=D(o))||void 0===w||w.setAttribute("script-id",i)),R().head.appendChild(k),null===(y=D(R().head))||void 0===y||y.appendChild(k.cloneNode(!0))),E({current:null});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(!i)return null;var W=a.current&&a.current.getAttribute("style"),H=a.current&&a.current.getAttribute("script-id"),X=W&&W.trim().split(";").filter((function(e){return e})).map((function(e){var t=e.split(":"),n=Object(b.a)(t,2),r=n[0],o=n[1];return{name:r.trim(),value:o.trim()}})),V=H&&(null===(e=L.current.contentWindow)||void 0===e||null===(t=e.STORE)||void 0===t?void 0:t[H]),J=null===(n=R())||void 0===n?void 0:n.body;return Object(z.jsxs)(f.a,{container:!0,sx:{height:"100vh"},children:[Object(z.jsx)(f.a,{item:!0,xs:3,sx:{padding:1,paddingLeft:0},children:Object(z.jsxs)(p.a,{height:"100vh",sx:{display:"flex",flexDirection:"column",gap:1,overflowY:"auto"},children:[J&&Object(z.jsx)(q,{rootNode:J,selected:a.current,onChangeSelected:function(e){var t;a.current&&a.current.classList.remove("selected"),a.current=e,null===(t=a.current)||void 0===t||t.classList.add("selected"),a.current.scrollIntoView({behavior:"smooth"}),o()},onChangeHovered:function(e){var t;c.current&&c.current.classList.remove("hovered"),c.current=e,null===(t=c.current)||void 0===t||t.classList.add("hovered")},onRightClick:function(e){var t=e.x,n=e.y,r=e.parentNode;E({current:{mouseX:t,mouseY:n,parentNode:r}})}}),a.current&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(re,{selected:a.current}),Object(z.jsx)(m.a,{fontWeight:"bold",children:"Styles"}),Object(z.jsx)(ae,{styles:X||[],onAddStyle:function(e){var t=e.name,n=e.value;if(a.current&&(!a.current||getComputedStyle(a.current)[t]))return a.current.style[t]=n,D(a.current).style[t]=n,o(),!!getComputedStyle(a.current)[t]}}),Object(z.jsx)(m.a,{fontWeight:"bold",children:"Attributes"}),Object(z.jsx)(I,{selected:a.current,getMirror:D,forceRender:o})]}),H&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(m.a,{fontWeight:"bold",children:"Plugin props"}),Object(z.jsxs)(m.a,{children:["ID: ",H]}),Object(z.jsx)(h.a,{})]}),Object(z.jsx)(p.a,{sx:{maxHeight:500,overflowY:"auto",flexShrink:0},children:Object(z.jsx)(B,{props:V||[],onSave:function(e,t){return V[e]=t,o(),!0},toggleJSMode:function(e){var t=V[e];"$"===e[0]?V[e.slice(1)]=t:V["$"+e]=t,delete V[e],o()}})})]})}),Object(z.jsx)(f.a,{item:!0,xs:9,sx:{overflow:"auto"},children:Object(z.jsx)("iframe",{src:"/".concat(i),width:"100%",height:"100%",ref:L,title:"main",id:"main",style:{minWidth:1e3}})}),Object(z.jsx)(v.a,{open:!!S.current,onClose:function(){return E({current:null})},onContextMenu:function(e){e.preventDefault(),E({current:null})},anchorReference:"anchorPosition",anchorPosition:null!==S.current?{top:S.current.mouseY,left:S.current.mouseX}:void 0,children:Object(z.jsx)(ce,{label:"Insert",parentMenuOpen:!!S.current,children:Object.entries(N).map((function(e){var t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(z.jsx)(g.a,{onClick:function(){return P(r)},children:n},n)}))})}),y.current&&Object(z.jsx)(te,{sx:{position:"fixed",bottom:16,right:16},virtualDOM:y.current,getWindow:T,page:i})]})},ue=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){fetch("/editor/pages").then((function(e){return e.json()})).then((function(e){return o(e)}))}),[]),Object(z.jsx)(p.a,{children:n.map((function(e){return Object(z.jsx)(p.a,{children:Object(z.jsx)(c.b,{to:"/editor/".concat(e),children:e})},e)}))})},de=function(){return Object(z.jsxs)(l.c,{children:[Object(z.jsx)(l.a,{path:"/editor/",element:Object(z.jsx)(ue,{})}),Object(z.jsx)(l.a,{path:"/editor/:page",element:Object(z.jsx)(se,{})})]})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,283)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))};a.a.render(Object(z.jsx)(o.a.StrictMode,{children:Object(z.jsx)(c.a,{children:Object(z.jsx)(de,{})})}),document.getElementById("root")),be()}},[[198,1,2]]]);
//# sourceMappingURL=main.e2b641d7.chunk.js.map