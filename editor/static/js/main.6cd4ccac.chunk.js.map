{"version":3,"sources":["NestedMenuItem.js","components/hooks/useForceRender.ts","components/DomTree/DomTree.tsx","components/PropsFields.tsx","components/SaveButton/SaveButton.tsx","components/SettingsTool/SettingsTool.tsx","components/styles.ts","components/StyleFields.tsx","pages/Editor.tsx","pages/Dashboard.tsx","App.tsx","reportWebVitals.js","index.tsx"],"names":["useMenuItemStyles","makeStyles","theme","root","props","backgroundColor","open","NestedMenuItem","React","forwardRef","ref","parentMenuOpen","label","component","rightIcon","createElement","ArrowRight","children","className","tabIndexProp","tabIndex","MenuProps","ContainerProps","ContainerPropsProp","MenuItemProps","containerRefProp","menuItemRef","useRef","useImperativeHandle","current","containerRef","menuContainerRef","useState","isSubMenuOpen","setIsSubMenuOpen","isSubmenuFocused","_a","_b","_c","_d","active","ownerDocument","activeElement","menuItemClasses","disabled","undefined","Object","assign","onFocus","event","target","onMouseEnter","onMouseLeave","onKeyDown","key","stopPropagation","focus","firstChild","MenuItem","clsx","Menu","style","pointerEvents","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","autoFocus","disableAutoFocus","disableEnforceFocus","onClose","useForceRender","useReducer","s","getDataNodeTree","el","dataNodeTreeAsMap","Map","title","nodeName","dataNodeTree","domNode","set","j","length","childDataNodeTree","push","DomTree","rootNode","selected","onChangeSelected","onChangeHovered","onRightClick","forceRender","expandedKeys","setExpandedKeys","treeRef","dataNodeTreeAsMapRef","useEffect","values","Array","from","map","selectedDataNode","get","parents","i","slice","Set","scrollTo","selectedKeys","treeData","draggable","height","blockNode","showLine","showLeafIcon","switcherIcon","DownOutlined","onDrop","info","dropToGap","node","dragNode","dropNode","draggableNode","remove","parentNode","insertBefore","nextSibling","onExpand","onSelect","dataNode","clientX","clientY","x","y","PropField","prop","value","onSave","toggleJSMode","tempValue","Grid","container","item","xs","TextField","variant","fullWidth","size","defaultValue","onChange","e","Tooltip","placement","disableInteractive","arrow","Checkbox","checked","sx","padding","onClick","IconButton","paddingLeft","Save","fontSize","PropsFields","sortedProps","entries","sort","a","b","keyA","keyB","localeCompare","Box","overflowY","overflowX","SaveButton","virtualDOM","getWindow","page","rest","Fab","color","virtualDOMClone","cloneNode","querySelectorAll","forEach","removeAttribute","scriptElement","currentState","serializer","STORE","setAttribute","innerText","head","appendChild","exportedCode","documentElement","outerHTML","html","htmlBeautify","wrap_line_length","max_preserve_newlines","fetch","method","body","JSON","stringify","headers","SettingsTool","FormGroup","marginX","cssStyles","StyleFields","styles","onAddStyle","onMakeDraggable","initialValues","name","onSubmit","resetForm","setFieldValue","as","Autocomplete","options","disableClearable","freeSolo","renderInput","params","Button","type","NestedMenuItem2","EMPTY_ELEMENT","document","Editor","useParams","hovered","counter","contextMenu","setContextMenu","plugins","setPlugins","iframe","getDocument","contentDocument","contentWindow","getMirror","element","querySelector","getAttribute","handleContextMenu","preventDefault","mouseX","offsetLeft","mouseY","offsetTop","onmousedown","firstDraggableElement","path","find","hasAttribute","position","firstEditableElement","c","classList","add","onmouseup","onmouseout","relatedTarget","toElement","onmousemove","movementX","movementY","cx","left","replace","cy","top","pageDocumentPromise","then","res","text","htmlElement","implementation","createHTMLDocument","innerHTML","replaceChild","addEventListener","oncontextmenu","xPath","getXPath","targetNode","evaluate","XPathResult","FIRST_ORDERED_NODE_TYPE","singleNodeValue","uuid","String","getComputedStyle","vendors","styleElement","json","newPlugin","plugin","scriptSrc","script","templateSrc","template","id","elementContainer","firstElementChild","scrollY","selectedStyles","selectedScriptID","trim","split","filter","pluginProps","display","flexDirection","gap","newSelected","scrollIntoView","behavior","newHovered","Typography","Divider","maxHeight","flexShrink","overflow","src","width","minWidth","onContextMenu","anchorReference","anchorPosition","pluginName","bottom","right","Dashboard","pages","setPages","to","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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ACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,cACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,sBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,uBACA,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","file":"static/js/main.6cd4ccac.chunk.js","sourcesContent":["/* eslint-disable */\nimport { ArrowRight } from '@mui/icons-material';\nimport { Menu, MenuItem } from '@mui/material';\nimport { makeStyles } from '@mui/styles';\nimport clsx from 'clsx';\nimport React, { useState, useRef, useImperativeHandle } from 'react';\nconst TRANSPARENT = 'rgba(0,0,0,0)';\nconst useMenuItemStyles = makeStyles((theme) => ({\n  root: (props) => ({\n    backgroundColor: props.open ? 'white' : TRANSPARENT,\n  }),\n}));\n/**\n * Use as a drop-in replacement for `<MenuItem>` when you need to add cascading\n * menu elements as children to this component.\n */\nconst NestedMenuItem = React.forwardRef(function NestedMenuItem(props, ref) {\n  const {\n    parentMenuOpen,\n    component = 'div',\n    label,\n    rightIcon = React.createElement(ArrowRight, null),\n    children,\n    className,\n    tabIndex: tabIndexProp,\n    MenuProps = {},\n    ContainerProps: ContainerPropsProp = {},\n    ...MenuItemProps\n  } = props;\n  const { ref: containerRefProp, ...ContainerProps } = ContainerPropsProp;\n  const menuItemRef = useRef(null);\n\n  useImperativeHandle(ref, () => menuItemRef.current);\n  const containerRef = useRef(null);\n\n  useImperativeHandle(containerRefProp, () => containerRef.current);\n  const menuContainerRef = useRef(null);\n  const [isSubMenuOpen, setIsSubMenuOpen] = useState(false);\n  const handleMouseEnter = (event) => {\n    setIsSubMenuOpen(true);\n\n    if (\n      ContainerProps === null || ContainerProps === void 0\n        ? void 0\n        : ContainerProps.onMouseEnter\n    ) {\n      ContainerProps.onMouseEnter(event);\n    }\n  };\n  const handleMouseLeave = (event) => {\n    setIsSubMenuOpen(false);\n\n    if (\n      ContainerProps === null || ContainerProps === void 0\n        ? void 0\n        : ContainerProps.onMouseLeave\n    ) {\n      ContainerProps.onMouseLeave(event);\n    }\n  };\n  // Check if any immediate children are active\n  const isSubmenuFocused = () => {\n    let _a;\n\n    let _b;\n    let _c;\n    let _d;\n    const active =\n      (_b =\n        (_a = containerRef.current) === null || _a === void 0\n          ? void 0\n          : _a.ownerDocument) === null || _b === void 0\n        ? void 0\n        : _b.activeElement;\n\n    for (const child of (_d =\n      (_c = menuContainerRef.current) === null || _c === void 0\n        ? void 0\n        : _c.children) !== null && _d !== void 0\n      ? _d\n      : []) {\n      if (child === active) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n  const handleFocus = (event) => {\n    if (event.target === containerRef.current) {\n      setIsSubMenuOpen(true);\n    }\n\n    if (\n      ContainerProps === null || ContainerProps === void 0\n        ? void 0\n        : ContainerProps.onFocus\n    ) {\n      ContainerProps.onFocus(event);\n    }\n  };\n  const handleKeyDown = (event) => {\n    let _a;\n\n    let _b;\n    let _c;\n    let _d;\n\n    if (event.key === 'Escape') {\n      return;\n    }\n\n    if (isSubmenuFocused()) {\n      event.stopPropagation();\n    }\n    const active =\n      (_b =\n        (_a = containerRef.current) === null || _a === void 0\n          ? void 0\n          : _a.ownerDocument) === null || _b === void 0\n        ? void 0\n        : _b.activeElement;\n\n    if (event.key === 'ArrowLeft' && isSubmenuFocused()) {\n      (_c = containerRef.current) === null || _c === void 0\n        ? void 0\n        : _c.focus();\n    }\n\n    if (\n      event.key === 'ArrowRight' &&\n      event.target === containerRef.current &&\n      event.target === active\n    ) {\n      const firstChild =\n        (_d = menuContainerRef.current) === null || _d === void 0\n          ? void 0\n          : _d.children[0];\n\n      firstChild === null || firstChild === void 0\n        ? void 0\n        : firstChild.focus();\n    }\n  };\n  const open = isSubMenuOpen && parentMenuOpen;\n  const menuItemClasses = useMenuItemStyles({ open });\n  // Root element must have a `tabIndex` attribute for keyboard navigation\n  let tabIndex;\n\n  if (!props.disabled) {\n    tabIndex = tabIndexProp !== undefined ? tabIndexProp : -1;\n  }\n\n  return React.createElement(\n    'div',\n    Object.assign({}, ContainerProps, {\n      ref: containerRef,\n      onFocus: handleFocus,\n      tabIndex,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      onKeyDown: handleKeyDown,\n    }),\n    React.createElement(\n      MenuItem,\n      Object.assign({}, MenuItemProps, {\n        className: clsx(menuItemClasses.root, className),\n        ref: menuItemRef,\n      }),\n      label,\n      rightIcon\n    ),\n    React.createElement(\n      Menu,\n      // Set pointer events to 'none' to prevent the invisible Popover div\n      // from capturing events for clicks and hovers\n      {\n        // Set pointer events to 'none' to prevent the invisible Popover div\n        // from capturing events for clicks and hovers\n        style: { pointerEvents: 'none' },\n        anchorEl: menuItemRef.current,\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'right',\n        },\n        transformOrigin: {\n          vertical: 'top',\n          horizontal: 'left',\n        },\n        open,\n        autoFocus: false,\n        disableAutoFocus: true,\n        disableEnforceFocus: true,\n        onClose: () => {\n          setIsSubMenuOpen(false);\n        },\n      },\n      React.createElement(\n        'div',\n        { ref: menuContainerRef, style: { pointerEvents: 'auto' } },\n        children\n      )\n    )\n  );\n});\nexport default NestedMenuItem;\n","import { useReducer } from 'react';\n\nexport const useForceRender = () => {\n  const [, forceRender] = useReducer((s) => s + 1, 0);\n\n  return forceRender;\n};\n","import { DownOutlined } from '@ant-design/icons';\nimport { Tree } from 'antd';\nimport { Key } from 'antd/lib/table/interface';\nimport { DataNode } from 'antd/lib/tree';\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport 'antd/dist/antd.css';\nimport { useForceRender } from '../hooks';\n\nexport interface IDataNode extends DataNode {\n  domNode: HTMLElement;\n  key: string;\n}\n\nfunction getDataNodeTree(\n  el: HTMLElement,\n  key: string = '0',\n  dataNodeTreeAsMap?: Map<HTMLElement, IDataNode>\n): { dataNodeTree: IDataNode; dataNodeTreeAsMap: Map<HTMLElement, IDataNode> } {\n  if (!dataNodeTreeAsMap) {\n    dataNodeTreeAsMap = new Map();\n  }\n\n  const children: IDataNode[] = [];\n  const title = el.nodeName;\n  const dataNodeTree = {\n    title,\n    key,\n    domNode: el,\n    children,\n  };\n\n  dataNodeTreeAsMap.set(el, dataNodeTree);\n\n  for (let j = 0; j < el.children.length; j++) {\n    const { dataNodeTree: childDataNodeTree } = getDataNodeTree(\n      el.children[j] as HTMLElement,\n      `${key}-${j}`,\n      dataNodeTreeAsMap\n    );\n\n    children.push(childDataNodeTree);\n  }\n\n  return { dataNodeTree, dataNodeTreeAsMap };\n}\nexport interface IDomTreeProps {\n  rootNode: HTMLBodyElement;\n  selected: HTMLElement | null;\n  onChangeSelected: (newSelected: HTMLElement) => void;\n  onChangeHovered: (newHovered: HTMLElement) => void;\n  onRightClick: ({\n    x,\n    y,\n    parentNode,\n  }: {\n    x: number;\n    y: number;\n    parentNode: HTMLElement;\n  }) => void;\n}\n\nexport const DomTree: React.FC<IDomTreeProps> = (props) => {\n  const {\n    rootNode,\n    selected,\n    onChangeSelected,\n    onChangeHovered,\n    onRightClick,\n  } = props;\n\n  const forceRender = useForceRender();\n\n  const [expandedKeys, setExpandedKeys] = useState<Key[]>([]);\n  const treeRef = useRef<any>();\n  const dataNodeTreeAsMapRef = useRef<Map<HTMLElement, IDataNode>>();\n\n  useEffect(() => {\n    if (!dataNodeTreeAsMapRef.current) {\n      return;\n    }\n    const values = Array.from(dataNodeTreeAsMapRef.current.values());\n\n    setExpandedKeys(values.map(({ key }) => key));\n  }, []);\n\n  useEffect(() => {\n    if (!selected || !dataNodeTreeAsMapRef.current || !treeRef.current) {\n      return;\n    }\n    const selectedDataNode = dataNodeTreeAsMapRef.current.get(selected);\n\n    if (!selectedDataNode) {\n      return;\n    }\n    const { key } = selectedDataNode;\n    const parents = [];\n\n    for (let i = key.length; i >= 0; i--) {\n      if (key[i] === '-') {\n        parents.push(key.slice(0, i));\n      }\n    }\n    const set = new Set([...expandedKeys, ...parents]);\n\n    treeRef.current.scrollTo({ key });\n    setExpandedKeys(Array.from(set));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selected]);\n\n  const handleDrop = (info: any) => {\n    const { dropToGap } = info as { dropToGap: boolean };\n    const { node, dragNode } = info;\n    const { domNode: dropNode } = node as IDataNode;\n    const { domNode: draggableNode } = dragNode as IDataNode;\n\n    draggableNode.remove();\n\n    if (dropToGap) {\n      dropNode?.parentNode?.insertBefore(draggableNode, dropNode.nextSibling);\n    } else {\n      dropNode.insertBefore(draggableNode, dropNode.firstChild);\n    }\n\n    forceRender();\n  };\n\n  const handleExpand = (expandedKeys: Key[]) => {\n    setExpandedKeys(expandedKeys);\n  };\n\n  const handleChangeSelected = (\n    selectedKeys: Key[],\n    { node: dataNode }: any\n  ) => {\n    const { domNode } = dataNode as IDataNode;\n\n    onChangeSelected(domNode);\n  };\n\n  const handleChangeHovered = ({ node: dataNode }: any) => {\n    const { domNode } = dataNode as IDataNode;\n\n    onChangeHovered(domNode);\n  };\n\n  const handleRightClick = ({ event, node: dataNode }: any) => {\n    const { clientX, clientY } = event as React.MouseEvent<Element, MouseEvent>;\n    const { domNode } = dataNode as IDataNode;\n\n    onRightClick({ x: clientX, y: clientY, parentNode: domNode });\n  };\n\n  const { dataNodeTree, dataNodeTreeAsMap } = getDataNodeTree(rootNode);\n\n  dataNodeTreeAsMapRef.current = dataNodeTreeAsMap;\n  const { key } =\n    (selected && dataNodeTreeAsMapRef.current.get(selected)) || {};\n  const selectedKeys = key ? [key] : [];\n\n  return (\n    <Tree\n      treeData={[dataNodeTree]}\n      selectedKeys={selectedKeys}\n      expandedKeys={expandedKeys}\n      ref={treeRef}\n      draggable\n      height={500}\n      blockNode\n      showLine={{ showLeafIcon: false }}\n      switcherIcon={<DownOutlined />}\n      onDrop={handleDrop}\n      onExpand={handleExpand}\n      onSelect={handleChangeSelected}\n      onMouseEnter={handleChangeHovered}\n      onRightClick={handleRightClick}\n    />\n  );\n};\n","import { Save as SaveIcon } from '@mui/icons-material';\nimport {\n  Grid,\n  TextField,\n  Box,\n  Checkbox,\n  Tooltip,\n  IconButton,\n} from '@mui/material';\nimport React, { useRef } from 'react';\n\nconst PropField = (props: any) => {\n  const { prop, value, onSave, toggleJSMode } = props;\n  const tempValue = useRef(value);\n\n  return (\n    <Grid container>\n      <Grid item xs={4}>\n        <TextField\n          value={prop[0] === '$' ? prop.slice(1) : prop}\n          variant=\"standard\"\n          disabled\n          fullWidth\n          size=\"small\"\n        />\n      </Grid>\n      <Grid item xs={6}>\n        <TextField\n          defaultValue={value}\n          variant=\"standard\"\n          size=\"small\"\n          fullWidth\n          onChange={(e) => (tempValue.current = e.target.value)}\n        />\n      </Grid>\n      <Grid item xs={1}>\n        <Tooltip title=\"JavaScript\" placement=\"left\" disableInteractive arrow>\n          <Checkbox\n            checked={prop[0] === '$'}\n            size=\"small\"\n            sx={{ padding: '4px' }}\n            onClick={() => toggleJSMode(prop)}\n          />\n        </Tooltip>\n      </Grid>\n      <Grid item xs={1}>\n        <Tooltip title=\"Save\" placement=\"right\" disableInteractive arrow>\n          <IconButton\n            aria-label=\"delete\"\n            size=\"small\"\n            onClick={() => onSave(prop, tempValue.current)}\n            sx={{ paddingLeft: 0 }}\n          >\n            <SaveIcon sx={{ fontSize: 16 }} />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport const PropsFields = ({ onSave, props, toggleJSMode }: any) => {\n  const sortedProps = Object.entries(props).sort(([a], [b]) => {\n    const keyA = a[0] === '$' ? a.slice(1) : a;\n    const keyB = b[0] === '$' ? b.slice(1) : b;\n\n    return keyA.localeCompare(keyB);\n  });\n\n  return (\n    <Box sx={{ overflowY: 'auto', overflowX: 'hidden' }}>\n      {sortedProps.map(([prop, value]) => {\n        const key = prop[0] === '$' ? prop.slice(1) : prop;\n\n        return (\n          <PropField\n            key={key + value}\n            prop={prop}\n            value={value}\n            onSave={onSave}\n            toggleJSMode={toggleJSMode}\n          />\n        );\n      })}\n    </Box>\n  );\n};\n","import { Save as SaveIcon } from '@mui/icons-material';\nimport { Fab, FabProps } from '@mui/material';\nimport 'highlight.js/styles/github.css';\nimport { html_beautify as htmlBeautify } from 'js-beautify';\nimport React, { MouseEventHandler } from 'react';\nimport serializer from 'serialize-javascript';\n\nimport { IWindow } from '../../pages/Editor';\ninterface ISaveButtonProps extends FabProps {\n  virtualDOM: Document;\n  getWindow: () => IWindow;\n  page: string;\n}\n\nexport const SaveButton: React.FC<ISaveButtonProps> = (props) => {\n  const { virtualDOM, getWindow, page, ...rest } = props;\n  const onSave: MouseEventHandler = () => {\n    const virtualDOMClone = virtualDOM.cloneNode(true) as Document;\n\n    virtualDOMClone.querySelectorAll('[uuid]').forEach((el) => {\n      el.removeAttribute('uuid');\n    });\n    virtualDOMClone.querySelectorAll('script[name=\"state\"]').forEach((el) => {\n      el.remove();\n    });\n\n    const scriptElement = virtualDOMClone.createElement('script');\n    const currentState = serializer(getWindow().STORE);\n\n    scriptElement.setAttribute('name', 'state');\n    scriptElement.innerText = `window.STORE = ${currentState}`;\n    virtualDOMClone.head.appendChild(scriptElement);\n\n    const exportedCode = `<!DOCTYPE html>${virtualDOMClone.documentElement.outerHTML}`;\n    const html = htmlBeautify(exportedCode, {\n      wrap_line_length: 120,\n      max_preserve_newlines: 0,\n    });\n\n    fetch('/editor/save', {\n      method: 'POST',\n      body: JSON.stringify({ html, page }),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n  };\n\n  return (\n    <Fab color=\"primary\" onClick={onSave} {...rest}>\n      <SaveIcon />\n    </Fab>\n  );\n};\n","import { Box, FormGroup } from '@mui/material';\nimport React from 'react';\n\ninterface ISettingsToolProps {\n  selected: HTMLElement;\n}\n\nexport const SettingsTool: React.FC<ISettingsToolProps> = (props) => {\n  return (\n    <Box>\n      <FormGroup sx={{ marginX: 2 }}></FormGroup>\n    </Box>\n  );\n};\n","export const cssStyles = [\n  'top',\n  'left',\n  'zoom',\n  'clear',\n  'color',\n  'float',\n  'inset',\n  'order',\n  'right',\n  'scale',\n  'width',\n  'border',\n  'bottom',\n  'cursor',\n  'filter',\n  'height',\n  'quotes',\n  'resize',\n  'rotate',\n  'widows',\n  'contain',\n  'content',\n  'display',\n  'hyphens',\n  'opacity',\n  'orphans',\n  'row-gap',\n  'z-index',\n  'position',\n  'tab-size',\n  'clip-path',\n  'direction',\n  'flex-grow',\n  'flex-wrap',\n  'font-size',\n  'isolation',\n  'mask-clip',\n  'mask-mode',\n  'mask-size',\n  'mask-type',\n  'max-lines',\n  'max-width',\n  'min-width',\n  'transform',\n  'translate',\n  'word-wrap',\n  'align-self',\n  'appearance',\n  'block-size',\n  'box-shadow',\n  'box-sizing',\n  'column-gap',\n  'flex-basis',\n  'font-style',\n  'line-break',\n  'margin-top',\n  'mask-image',\n  'math-style',\n  'max-height',\n  'min-height',\n  'object-fit',\n  'overflow-x',\n  'overflow-y',\n  'ruby-align',\n  'ruby-merge',\n  'text-align',\n  'visibility',\n  'word-break',\n  'background',\n  'align-items',\n  'break-after',\n  'caret-color',\n  'column-fill',\n  'column-span',\n  'counter-set',\n  'empty-cells',\n  'flex-shrink',\n  'font-family',\n  'font-smooth',\n  'font-weight',\n  'inline-size',\n  'inset-block',\n  'line-height',\n  'margin-left',\n  'mask-origin',\n  'mask-repeat',\n  'motion-path',\n  'offset-path',\n  'padding-top',\n  'paint-order',\n  'perspective',\n  'text-indent',\n  'text-shadow',\n  'user-select',\n  'white-space',\n  'will-change',\n  'accent-color',\n  'align-tracks',\n  'aspect-ratio',\n  'break-before',\n  'break-inside',\n  'caption-side',\n  'color-adjust',\n  'color-scheme',\n  'column-count',\n  'column-width',\n  'font-kerning',\n  'font-stretch',\n  'font-variant',\n  'grid-row-end',\n  'inset-inline',\n  'justify-self',\n  'margin-block',\n  'margin-right',\n  'padding-left',\n  'shape-margin',\n  'table-layout',\n  'text-justify',\n  'touch-action',\n  'unicode-bidi',\n  'word-spacing',\n  'writing-mode',\n  'align-content',\n  'counter-reset',\n  'justify-items',\n  'margin-bottom',\n  'margin-inline',\n  'mask-position',\n  'offset-anchor',\n  'offset-rotate',\n  'outline-color',\n  'outline-style',\n  'outline-width',\n  'overflow-wrap',\n  'padding-block',\n  'padding-right',\n  'place-content',\n  'ruby-position',\n  'scroll-margin',\n  'shape-outside',\n  'text-overflow',\n  'transform-box',\n  'animation-name',\n  'block-overflow',\n  'border-spacing',\n  'flex-direction',\n  'font-synthesis',\n  'grid-auto-flow',\n  'grid-auto-rows',\n  'grid-row-start',\n  'initial-letter',\n  'justify-tracks',\n  'letter-spacing',\n  'mask-composite',\n  'max-block-size',\n  'min-block-size',\n  'mix-blend-mode',\n  'outline-offset',\n  'overflow-block',\n  'padding-bottom',\n  'padding-inline',\n  'pointer-events',\n  'scroll-padding',\n  'text-rendering',\n  'text-transform',\n  'vertical-align',\n  'animation-delay',\n  'backdrop-filter',\n  'background-clip',\n  'background-size',\n  'border-collapse',\n  'grid-column-end',\n  'image-rendering',\n  'inset-block-end',\n  'justify-content',\n  'list-style-type',\n  'max-inline-size',\n  'min-inline-size',\n  'motion-distance',\n  'motion-rotation',\n  'object-position',\n  'offset-distance',\n  'offset-rotation',\n  'overflow-anchor',\n  'overflow-inline',\n  'scroll-behavior',\n  'scrollbar-color',\n  'scrollbar-width',\n  'text-align-last',\n  'transform-style',\n  'background-color',\n  'background-image',\n  'border-top-color',\n  'border-top-style',\n  'border-top-width',\n  'font-size-adjust',\n  'image-resolution',\n  'inset-inline-end',\n  'line-height-step',\n  'list-style-image',\n  'margin-block-end',\n  'mask-border-mode',\n  'page-break-after',\n  'scroll-snap-stop',\n  'scroll-snap-type',\n  'scrollbar-gutter',\n  'text-orientation',\n  'text-size-adjust',\n  'transform-origin',\n  'transition-delay',\n  'background-origin',\n  'background-repeat',\n  'border-left-color',\n  'border-left-style',\n  'border-left-width',\n  'column-rule-color',\n  'column-rule-style',\n  'column-rule-width',\n  'counter-increment',\n  'font-variant-caps',\n  'grid-auto-columns',\n  'grid-column-start',\n  'image-orientation',\n  'inset-block-start',\n  'margin-inline-end',\n  'mask-border-slice',\n  'mask-border-width',\n  'overflow-clip-box',\n  'padding-block-end',\n  'page-break-before',\n  'page-break-inside',\n  'scroll-margin-top',\n  'scroll-snap-align',\n  'animation-duration',\n  'border-block-color',\n  'border-block-style',\n  'border-block-width',\n  'border-image-slice',\n  'border-image-width',\n  'border-right-color',\n  'border-right-style',\n  'border-right-width',\n  'content-visibility',\n  'grid-template-rows',\n  'inset-inline-start',\n  'margin-block-start',\n  'mask-border-outset',\n  'mask-border-repeat',\n  'mask-border-source',\n  'padding-inline-end',\n  'perspective-origin',\n  'scroll-margin-left',\n  'scroll-padding-top',\n  'scroll-snap-margin',\n  'animation-direction',\n  'animation-fill-mode',\n  'backface-visibility',\n  'border-bottom-color',\n  'border-bottom-style',\n  'border-bottom-width',\n  'border-image-outset',\n  'border-image-repeat',\n  'border-image-source',\n  'border-inline-color',\n  'border-inline-style',\n  'border-inline-width',\n  'font-optical-sizing',\n  'forced-color-adjust',\n  'grid-template-areas',\n  'hanging-punctuation',\n  'list-style-position',\n  'margin-inline-start',\n  'padding-block-start',\n  'scroll-margin-block',\n  'scroll-margin-right',\n  'scroll-padding-left',\n  'text-emphasis-color',\n  'text-emphasis-style',\n  'transition-duration',\n  'transition-property',\n  'animation-play-state',\n  'box-decoration-break',\n  'font-variant-numeric',\n  'overflow-clip-margin',\n  'padding-inline-start',\n  'scroll-margin-bottom',\n  'scroll-margin-inline',\n  'scroll-padding-block',\n  'scroll-padding-right',\n  'text-combine-upright',\n  'text-decoration-line',\n  'text-decoration-skip',\n  'background-attachment',\n  'background-blend-mode',\n  'background-position-x',\n  'background-position-y',\n  'border-end-end-radius',\n  'font-feature-settings',\n  'font-variant-position',\n  'grid-template-columns',\n  'overscroll-behavior-x',\n  'overscroll-behavior-y',\n  'scroll-padding-bottom',\n  'scroll-padding-inline',\n  'shape-image-threshold',\n  'text-decoration-color',\n  'text-decoration-style',\n  'text-decoration-width',\n  'text-underline-offset',\n  'border-block-end-color',\n  'border-block-end-style',\n  'border-block-end-width',\n  'border-top-left-radius',\n  'font-language-override',\n  'font-variant-ligatures',\n  'scroll-snap-margin-top',\n  'text-emphasis-position',\n  'border-end-start-radius',\n  'border-inline-end-color',\n  'border-inline-end-style',\n  'border-inline-end-width',\n  'border-start-end-radius',\n  'border-top-right-radius',\n  'font-variant-east-asian',\n  'font-variation-settings',\n  'scroll-margin-block-end',\n  'scroll-snap-margin-left',\n  'text-underline-position',\n  'border-block-start-color',\n  'border-block-start-style',\n  'border-block-start-width',\n  'scroll-margin-inline-end',\n  'scroll-padding-block-end',\n  'scroll-snap-margin-right',\n  'text-decoration-skip-ink',\n  'animation-iteration-count',\n  'animation-timing-function',\n  'border-bottom-left-radius',\n  'border-inline-start-color',\n  'border-inline-start-style',\n  'border-inline-start-width',\n  'border-start-start-radius',\n  'overscroll-behavior-block',\n  'scroll-margin-block-start',\n  'scroll-padding-inline-end',\n  'scroll-snap-margin-bottom',\n  'text-decoration-thickness',\n  'border-bottom-right-radius',\n  'overscroll-behavior-inline',\n  'scroll-margin-inline-start',\n  'scroll-padding-block-start',\n  'transition-timing-function',\n  'scroll-padding-inline-start',\n];\n","import { Grid, TextField, Button, Autocomplete } from '@mui/material';\nimport { Formik, Form, Field } from 'formik';\nimport React from 'react';\n\nimport { cssStyles } from './styles';\n\nexport const StyleFields = ({ styles, onAddStyle, onMakeDraggable }: any) => {\n  const onSubmit = (values: any, { resetForm }: any) => {\n    if (onAddStyle(values)) {\n      resetForm();\n    }\n  };\n\n  return (\n    <Formik initialValues={{ name: '', value: '' }} onSubmit={onSubmit}>\n      {({ setFieldValue }) => (\n        <Form>\n          {styles.map(({ name, value }: any) => (\n            <Grid container key={name}>\n              <Grid item xs={6}>\n                {name}\n              </Grid>\n              <Grid item xs={6}>\n                {value}\n              </Grid>\n            </Grid>\n          ))}\n          <Grid container>\n            <Grid item xs={6}>\n              <Field\n                name=\"name\"\n                as={Autocomplete}\n                options={cssStyles}\n                disableClearable\n                freeSolo\n                renderInput={(params: any) => (\n                  <TextField {...params} label=\"Style\" variant=\"standard\" />\n                )}\n                onChange={(e: any, value: any) => setFieldValue('name', value)}\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <Field\n                name=\"value\"\n                as={TextField}\n                variant=\"standard\"\n                label=\"Value\"\n                fullWidth\n              />\n            </Grid>\n          </Grid>\n          <Button type=\"submit\" variant=\"contained\">\n            Add\n          </Button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n","import { Grid, Box, Menu, MenuItem, Typography, Divider } from '@mui/material';\nimport getXPath from 'get-xpath';\nimport { useEffect, useRef, useState } from 'react';\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { v4 as uuid } from 'uuid';\n\nimport NestedMenuItem from '../NestedMenuItem';\nimport { DomTree } from '../components/DomTree';\nimport { PropsFields } from '../components/PropsFields';\nimport { SaveButton } from '../components/SaveButton';\nimport { SettingsTool } from '../components/SettingsTool';\nimport { StyleFields } from '../components/StyleFields';\nimport { useForceRender } from '../components/hooks';\nimport '../App.css';\n\nconst NestedMenuItem2: any = NestedMenuItem;\n\nexport interface IWindow extends Window {\n  STORE: any;\n}\nexport const EMPTY_ELEMENT = document.createElement('div');\n\nexport const Editor = () => {\n  const forceRender = useForceRender();\n  const { page } = useParams();\n  const selected = useRef<HTMLElement | null>(null);\n  const hovered = useRef<HTMLElement | null>(null);\n  const draggable = useRef<HTMLElement | null>(null);\n  const counter = useRef(0);\n  const virtualDOM = useRef<Document | null>(null);\n  const [contextMenu, setContextMenu] = useState<any>({ current: null });\n  const [plugins, setPlugins] = useState<any[]>([]);\n\n  const iframe = useRef<any>();\n  const getDocument = () => iframe?.current?.contentDocument;\n  const getWindow = (): IWindow => iframe?.current?.contentWindow;\n  const getMirror = (element: HTMLElement) => {\n    if (!virtualDOM.current) {\n      return EMPTY_ELEMENT;\n    }\n\n    const mirror = virtualDOM.current.querySelector(\n      `[uuid=\"${element.getAttribute('uuid')}\"]`\n    ) as HTMLElement;\n\n    return mirror || EMPTY_ELEMENT;\n  };\n  const handleContextMenu = (event: any) => {\n    event.preventDefault();\n    setContextMenu({\n      current: {\n        mouseX: event.clientX + iframe.current?.offsetLeft,\n        mouseY: event.clientY + iframe.current?.offsetTop,\n      },\n    });\n  };\n\n  const addStyleToSelected = ({ name, value }: any) => {\n    if (\n      !selected.current ||\n      (selected.current && !getComputedStyle(selected.current)[name])\n    ) {\n      return;\n    }\n    selected.current.style[name] = value;\n    getMirror(selected.current).style[name] = value;\n\n    forceRender();\n\n    return !!getComputedStyle(selected.current)[name];\n  };\n\n  useEffect(() => {\n    if (!iframe) {\n      return;\n    }\n\n    getWindow().onmousedown = (e: any) => {\n      const firstDraggableElement = e.path.find(\n        (el: any) =>\n          el.hasAttribute &&\n          el.hasAttribute('editable') &&\n          el.style &&\n          (el.style.position === 'absolute' || el.style.position === 'relative')\n      );\n\n      if (firstDraggableElement) {\n        draggable.current = firstDraggableElement;\n      }\n\n      const firstEditableElement = e.path.find(\n        (c: any) => c.hasAttribute && c.hasAttribute('editable')\n      );\n\n      if (firstEditableElement) {\n        if (selected.current) {\n          selected.current.classList.remove('selected');\n        }\n        selected.current = firstEditableElement;\n        selected.current?.classList.add('selected');\n      } else if (selected.current) {\n        selected.current.classList.remove('selected');\n        selected.current = null;\n      }\n    };\n    getWindow().onmouseup = () => {\n      if (draggable.current) {\n        draggable.current.classList.remove('hovered');\n      }\n      draggable.current = null;\n      forceRender();\n    };\n    getWindow().onmouseout = function (e: any) {\n      const from = e.relatedTarget || e.toElement;\n\n      if (!from || from.nodeName === 'HTML') {\n        if (hovered.current) {\n          hovered.current.classList.remove('hovered');\n          hovered.current = null;\n        }\n      }\n    };\n    getWindow().onmousemove = (e: any) => {\n      if (draggable.current) {\n        e.preventDefault();\n        const { movementX, movementY } = e;\n\n        const cx = +draggable.current.style.left.replace('px', '');\n        const cy = +draggable.current.style.top.replace('px', '');\n\n        draggable.current.style.left = cx + movementX / 2 + 'px';\n        draggable.current.style.top = cy + movementY / 2 + 'px';\n        getMirror(draggable.current).style.left = cx + movementX / 2 + 'px';\n        getMirror(draggable.current).style.top = cy + movementY / 2 + 'px';\n      }\n\n      const firstEditableElement = e.path.find(\n        (c: any) => c.hasAttribute && c.hasAttribute('editable')\n      );\n\n      if (firstEditableElement) {\n        if (hovered.current) {\n          hovered.current.classList.remove('hovered');\n        }\n        hovered.current = firstEditableElement;\n        hovered.current?.classList.add('hovered');\n      } else if (hovered.current) {\n        hovered.current.classList.remove('hovered');\n        hovered.current = null;\n      }\n    };\n\n    if (!page) {\n      return;\n    }\n\n    const pageDocumentPromise = fetch(`/${page}`)\n      .then((res) => res.text())\n      .then((page) => {\n        const htmlElement = getDocument().createElement('html');\n        const document = getDocument().implementation.createHTMLDocument();\n\n        htmlElement.innerHTML = page;\n        document.replaceChild(htmlElement, document.documentElement);\n\n        return document as Document;\n      });\n\n    /** IFRAME LOADED HANDLER */\n    getWindow().addEventListener('DOMContentLoaded', async (event) => {\n      const target = event.target as Document;\n\n      getWindow().STORE = {};\n      target.body.oncontextmenu = handleContextMenu;\n\n      virtualDOM.current = await pageDocumentPromise;\n      virtualDOM.current.querySelectorAll('*').forEach((node) => {\n        const xPath = getXPath(node);\n        const targetNode = target.evaluate(\n          xPath,\n          target,\n          null,\n          XPathResult.FIRST_ORDERED_NODE_TYPE,\n          null\n        ).singleNodeValue as HTMLElement;\n\n        const uuid = String(counter.current++);\n\n        node.setAttribute('uuid', uuid);\n        targetNode?.setAttribute('uuid', uuid);\n      });\n      virtualDOM.current.body.querySelectorAll('*').forEach((node) => {\n        const targetNode = target.querySelector(\n          `[uuid=\"${node.getAttribute('uuid')}\"]`\n        ) as HTMLElement;\n\n        if (!targetNode) {\n          return;\n        }\n        targetNode.setAttribute('editable', 'true');\n\n        if (targetNode.firstChild?.nodeName === '#text') {\n          targetNode.setAttribute('contenteditable', 'true');\n        }\n\n        const elStyles = getWindow().getComputedStyle(targetNode);\n\n        if (elStyles.position === 'static') {\n          targetNode.style.position = 'relative';\n\n          if (getMirror(targetNode)) {\n            getMirror(targetNode).style.position = 'relative';\n          }\n        }\n      });\n\n      const vendorsScript = target.head.querySelector(\n        'script[src=\"/plugins/vendors.js\"]'\n      );\n\n      if (!vendorsScript) {\n        const vendors = target.createElement('script');\n\n        vendors.setAttribute('src', '/plugins/vendors.js');\n        vendors.setAttribute('defer', 'true');\n        target.head.appendChild(vendors);\n        getMirror(target.head)?.appendChild(vendors.cloneNode(true));\n      }\n\n      const styleElement = target.createElement('style');\n\n      styleElement.type = 'text/css';\n      styleElement.innerHTML = `\n        .hovered {\n          outline: #82ffff solid 2px !important;\n        }\n        .selected {\n          outline: #82c7ff solid 2px !important;\n        }\n      `;\n      target.head.appendChild(styleElement);\n      forceRender();\n    });\n\n    fetch('/editor/plugins.json')\n      .then((res) => res.json())\n      .then((plugins) => setPlugins(plugins));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const newPlugin = async (plugin: any) => {\n    if (!iframe) {\n      return;\n    }\n    const { script: scriptSrc, template: templateSrc } = plugin;\n    let template = null;\n    const id = uuid();\n\n    if (templateSrc) {\n      const html = await fetch(templateSrc).then((res) => res.text());\n      const { mouseX, mouseY, parentNode } = contextMenu.current;\n      const elementContainer = document.createElement('div');\n\n      elementContainer.innerHTML = html;\n      const root = elementContainer.firstElementChild as HTMLElement;\n\n      elementContainer.querySelectorAll('*').forEach((node) => {\n        node.setAttribute('uuid', counter.current++ + '');\n      });\n\n      if (parentNode) {\n        root.style.position = 'relative';\n        getMirror(parentNode)?.appendChild(root.cloneNode(true));\n      } else {\n        const x = mouseX - iframe.current?.offsetLeft;\n        const y = mouseY - iframe.current?.offsetTop + getWindow().scrollY;\n\n        root.style.position = 'absolute';\n        root.style.left = x + 'px';\n        root.style.top = y + 'px';\n        getMirror(getDocument().body)?.appendChild(root.cloneNode(true));\n      }\n\n      elementContainer.querySelectorAll('*').forEach((node) => {\n        node.setAttribute('editable', 'true');\n\n        if (node.firstChild?.nodeName === '#text') {\n          node.setAttribute('contenteditable', 'true');\n        }\n      });\n\n      if (parentNode) {\n        parentNode.appendChild(root);\n      } else {\n        getDocument().body.appendChild(root);\n      }\n\n      template = root;\n    }\n\n    if (scriptSrc) {\n      const el = document.createElement('script');\n\n      el.setAttribute('src', scriptSrc);\n      el.setAttribute('defer', 'true');\n      el.setAttribute('id', id);\n      el.setAttribute('uuid', counter.current++ + '');\n\n      if (template) {\n        template.setAttribute('script-id', id);\n        getMirror(template)?.setAttribute('script-id', id);\n      }\n      getDocument().head.appendChild(el);\n      getMirror(getDocument().head)?.appendChild(el.cloneNode(true));\n    }\n    setContextMenu({ current: null });\n  };\n\n  if (!page) {\n    return null;\n  }\n\n  const selectedStyles =\n    selected.current && selected.current.getAttribute('style');\n  const selectedScriptID =\n    selected.current && selected.current.getAttribute('script-id');\n  const styles =\n    selectedStyles &&\n    selectedStyles\n      .trim()\n      .split(';')\n      .filter((style: any) => style)\n      .map((style: any) => {\n        const [name, value] = style.split(':');\n\n        return { name: name.trim(), value: value.trim() };\n      });\n\n  const pluginProps =\n    selectedScriptID && iframe.current.contentWindow?.STORE?.[selectedScriptID];\n  const onSave = (prop: any, value: any) => {\n    pluginProps[prop] = value;\n    forceRender();\n\n    return true;\n  };\n  const toggleJSMode = (key: any) => {\n    const value = pluginProps[key];\n\n    if (key[0] === '$') {\n      pluginProps[key.slice(1)] = value;\n    } else {\n      pluginProps['$' + key] = value;\n    }\n    delete pluginProps[key];\n    forceRender();\n  };\n\n  const handleChangeSelected = (newSelected: HTMLElement) => {\n    if (selected.current) {\n      selected.current.classList.remove('selected');\n    }\n\n    selected.current = newSelected;\n    selected.current?.classList.add('selected');\n    selected.current.scrollIntoView({ behavior: 'smooth' });\n    forceRender();\n  };\n\n  const handleChangeHovered = (newHovered: HTMLElement) => {\n    if (hovered.current) {\n      hovered.current.classList.remove('hovered');\n    }\n\n    hovered.current = newHovered;\n    hovered.current?.classList.add('hovered');\n  };\n  const rootNode = getDocument()?.body;\n\n  const handleRightClick = ({ x, y, parentNode }: any) => {\n    setContextMenu({\n      current: {\n        mouseX: x,\n        mouseY: y,\n        parentNode,\n      },\n    });\n  };\n\n  return (\n    <Grid container sx={{ height: '100vh' }}>\n      <Grid item xs={3} sx={{ padding: 1, paddingLeft: 0 }}>\n        <Box\n          height=\"100vh\"\n          sx={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 1,\n            overflowY: 'auto',\n          }}\n        >\n          {rootNode && (\n            <DomTree\n              rootNode={rootNode}\n              selected={selected.current}\n              onChangeSelected={handleChangeSelected}\n              onChangeHovered={handleChangeHovered}\n              onRightClick={handleRightClick}\n            />\n          )}\n          {selected.current && <SettingsTool selected={selected.current} />}\n          <StyleFields styles={styles || []} onAddStyle={addStyleToSelected} />\n          {selectedScriptID && (\n            <>\n              <Typography>ID: {selectedScriptID}</Typography>\n              <Divider />\n            </>\n          )}\n          <Box sx={{ maxHeight: 500, overflowY: 'auto', flexShrink: 0 }}>\n            <PropsFields\n              props={pluginProps || []}\n              onSave={onSave}\n              toggleJSMode={toggleJSMode}\n            />\n          </Box>\n        </Box>\n      </Grid>\n      <Grid item xs={9} sx={{ overflow: 'auto' }}>\n        <iframe\n          src={`/${page}`}\n          width=\"100%\"\n          height=\"100%\"\n          ref={iframe}\n          title=\"main\"\n          id=\"main\"\n          style={{ minWidth: 1000 }}\n        ></iframe>\n      </Grid>\n      <Menu\n        open={!!contextMenu.current}\n        onClose={() => setContextMenu({ current: null })}\n        onContextMenu={(e) => {\n          e.preventDefault();\n          setContextMenu({ current: null });\n        }}\n        anchorReference=\"anchorPosition\"\n        anchorPosition={\n          contextMenu.current !== null\n            ? {\n                top: contextMenu.current.mouseY,\n                left: contextMenu.current.mouseX,\n              }\n            : undefined\n        }\n      >\n        <NestedMenuItem2 label=\"Insert\" parentMenuOpen={!!contextMenu.current}>\n          {Object.entries(plugins).map(([pluginName, plugin]) => (\n            <MenuItem key={pluginName} onClick={() => newPlugin(plugin)}>\n              {pluginName}\n            </MenuItem>\n          ))}\n        </NestedMenuItem2>\n      </Menu>\n      {virtualDOM.current && (\n        <SaveButton\n          sx={{ position: 'fixed', bottom: 16, right: 16 }}\n          virtualDOM={virtualDOM.current}\n          getWindow={getWindow}\n          page={page}\n        />\n      )}\n    </Grid>\n  );\n};\n","import { Box } from '@mui/material';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Dashboard = () => {\n  const [pages, setPages] = useState([]);\n\n  useEffect(() => {\n    fetch('/editor/pages')\n      .then((res) => res.json())\n      .then((pages) => setPages(pages));\n  });\n\n  return (\n    <Box>\n      {pages.map((page) => (\n        <Box key={page}>\n          <Link to={`/editor/${page}`}>{page}</Link>\n        </Box>\n      ))}\n    </Box>\n  );\n};\n","import React from 'react';\nimport { Route, Routes } from 'react-router-dom';\n\nimport { Editor, Dashboard } from './pages';\n\nexport const App = () => {\n  return (\n    <Routes>\n      <Route path=\"/editor/\" element={<Dashboard />} />\n      <Route path=\"/editor/:page\" element={<Editor />} />\n    </Routes>\n  );\n};\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}